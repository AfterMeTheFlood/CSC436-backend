{"version":3,"sources":["user/Register.js","user/Login.js","user/UserBar.js","user/UserList.js","Todo.js","user/UserProfile.js","TodoList.js","CreateTodo.js","Home.js","reducers.js","App.js","index.js","Contexts.js"],"names":["Register","show","handleClose","dispatch","useContext","StateContext","useState","username","password","passwordRepeat","formData","setFormData","useResource","url","method","data","passwordConfirmation","user","register","useEffect","type","Modal","onHide","Form","onSubmit","e","preventDefault","trim","alert","Header","closeButton","Title","Body","Label","htmlFor","Control","value","onChange","target","name","id","Footer","Button","variant","onClick","disabled","length","Login","setUsername","setPassword","loginFailed","setLoginFailed","login","isLoading","error","console","log","access_token","Text","style","color","UserBar","state","Logout","React","lazy","showLogin","setShowLogin","showRegister","setShowRegister","className","UserList","users","Array","isArray","href","map","_id","Todo","title","content","author","createdOn","complete","completedOn","headers","Authorization","updateTodo","deleteTodo","Card","Check","inline","checked","Date","label","Subtitle","toLocaleDateString","UserProfile","userId","find","toString","todos","filter","todo","p","i","key","TodoList","CreateTodo","setTitle","setContent","createTodo","Home","getTodos","getUsers","document","userReducer","action","undefined","userListReducer","todosReducer","updatedTodos","forEach","push","appReducer","App","useReducer","routes","mount","route","view","req","params","Provider","Container","Suspense","fallback","axiosInstance","axios","create","baseURL","ReactDOM","render","StrictMode","getElementById","createContext"],"mappings":"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","file":"static/js/main.878849f0.chunk.js","sourcesContent":["import React, { useState, useContext, useEffect } from \"react\";\r\nimport { Form, Modal, Button } from \"react-bootstrap\";\r\nimport { useResource } from \"react-request-hook\";\r\nimport { StateContext } from \"../Contexts\";\r\n\r\nexport default function Register({ show, handleClose }) {\r\n  const { dispatch } = useContext(StateContext);\r\n  const [formData, setFormData] = useState({\r\n    username: \"\",\r\n    password: \"\",\r\n    passwordRepeat: \"\",\r\n  });\r\n\r\n  const [user, register] = useResource((username, password) => ({\r\n    url: \"auth/register\",\r\n    method: \"post\",\r\n    data: { username, password, passwordConfirmation: password },\r\n  }));\r\n\r\n  useEffect(() => {\r\n    if (user && user.data) {\r\n      dispatch({ type: \"REGISTER\", username: user.data.username });\r\n    }\r\n  }, [user]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!formData.username.trim()) {\r\n      alert(\"Username can not be empty!\");\r\n      return;\r\n    }\r\n    if (!formData.password.trim() || !formData.passwordRepeat.trim()) {\r\n      alert(\"Password can not be empty!\");\r\n      return;\r\n    }\r\n    register(formData.username, formData.password);\r\n    handleClose();\r\n  }\r\n\r\n  function handleChangeUsername(e) {\r\n    setFormData({ ...formData, username: e.target.value });\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setFormData({ ...formData, password: e.target.value });\r\n  }\r\n\r\n  function handleChangePasswordRepeat(e) {\r\n    setFormData({ ...formData, passwordRepeat: e.target.value });\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Form onSubmit={handleSubmit}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Register</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form.Label htmlFor=\"register-username\">Username:</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            value={formData.username}\r\n            onChange={handleChangeUsername}\r\n            name=\"register-username\"\r\n            id=\"register-username\"\r\n          />\r\n          <Form.Label htmlFor=\"register-password\">Password:</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            name=\"register-password\"\r\n            id=\"register-password\"\r\n            value={formData.password}\r\n            onChange={handleChangePassword}\r\n          />\r\n          <Form.Label htmlFor=\"register-password-repeat\">\r\n            Repeat password:\r\n          </Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            name=\"register-password-repeat\"\r\n            id=\"register-password-repeat\"\r\n            value={formData.passwordRepeat}\r\n            onChange={handleChangePasswordRepeat}\r\n          />\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            variant=\"primary\"\r\n            type=\"submit\"\r\n            disabled={\r\n              formData.username.length === 0 ||\r\n              formData.password.length === 0 ||\r\n              formData.password !== formData.passwordRepeat\r\n            }\r\n          >\r\n            Register\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { useResource } from \"react-request-hook\";\r\nimport { Modal, Form, Button } from \"react-bootstrap\";\r\nimport { StateContext } from \"../Contexts\";\r\n\r\nexport default function Login({ show, handleClose }) {\r\n  const { dispatch } = useContext(StateContext);\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [loginFailed, setLoginFailed] = useState(false);\r\n  const [user, login] = useResource((username, password) => ({\r\n    url: \"auth/login\",\r\n    method: \"post\",\r\n    data: { username, password },\r\n  }));\r\n  useEffect(() => {\r\n    if (user && user.isLoading === false && (user.data || user.error)) {\r\n      if (user.error) {\r\n        setLoginFailed(true);\r\n      } else {\r\n        setLoginFailed(false);\r\n        console.log(user.data);\r\n        dispatch({\r\n          type: \"LOGIN\",\r\n          username,\r\n          access_token: user.data.access_token,\r\n        });\r\n      }\r\n    }\r\n  }, [user]);\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!username.trim()) {\r\n      alert(\"Username can not be empty!\");\r\n      return;\r\n    }\r\n    if (!password.trim()) {\r\n      alert(\"Password can not be empty!\");\r\n      return;\r\n    }\r\n    login(username, password);\r\n  }\r\n\r\n  function handleChangeUsername(e) {\r\n    setUsername(e.target.value);\r\n  }\r\n\r\n  function handleChangePassword(e) {\r\n    setPassword(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <Modal show={show} onHide={handleClose}>\r\n      <Form onSubmit={handleSubmit}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Login</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Form.Label htmlFor=\"login-username\">Username:</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            value={username}\r\n            onChange={handleChangeUsername}\r\n            name=\"login-username\"\r\n            id=\"login-username\"\r\n          />\r\n          <Form.Label htmlFor=\"login-password\">Password:</Form.Label>\r\n          <Form.Control\r\n            type=\"password\"\r\n            value={password}\r\n            onChange={handleChangePassword}\r\n            name=\"login-password\"\r\n            id=\"login-password\"\r\n          />\r\n          {loginFailed && (\r\n            <Form.Text style={{ color: \"red\" }}>\r\n              Invalid username or password\r\n            </Form.Text>\r\n          )}\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Cancel\r\n          </Button>\r\n          <Button\r\n            variant=\"primary\"\r\n            disabled={username.length === 0}\r\n            type=\"submit\"\r\n          >\r\n            Login\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Form>\r\n    </Modal>\r\n  );\r\n}\r\n","import React, { useContext, useState } from \"react\";\r\nimport { Button } from \"react-bootstrap\";\r\nimport Register from \"./Register\";\r\nimport Login from \"./Login\";\r\nimport { StateContext } from \"../Contexts\";\r\n\r\nexport default function UserBar() {\r\n  const { state } = useContext(StateContext);\r\n  const Logout = React.lazy(() => import(\"./Logout\"));\r\n  const [showLogin, setShowLogin] = useState(false);\r\n  const [showRegister, setShowRegister] = useState(false);\r\n\r\n  if (state.user && state.user.username) {\r\n    return <Logout />;\r\n  } else {\r\n    return (\r\n      <div className=\"justify-content-end\">\r\n        <Button variant=\"link\" onClick={(e) => setShowLogin(true)}>\r\n          Login\r\n        </Button>\r\n        <Login show={showLogin} handleClose={() => setShowLogin(false)} />\r\n        <Button variant=\"link\" onClick={(e) => setShowRegister(true)}>\r\n          Register\r\n        </Button>\r\n        <Register\r\n          show={showRegister}\r\n          handleClose={() => setShowRegister(false)}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n","import React, { useContext } from \"react\";\r\nimport { Link } from \"react-navi\";\r\nimport { StateContext } from \"../Contexts\";\r\n\r\nexport default function UserList() {\r\n  const { state } = useContext(StateContext);\r\n  console.log(\"state.users: \", state.users);\r\n  const users = Array.isArray(state.users) ? state.users : [];\r\n  return (\r\n    <>\r\n      <Link href=\"/\">Go to all todos</Link>\r\n      <div>\r\n        {users.map((user, id) => (\r\n          <div key={id}>\r\n            <Link href={`/users/${user._id}`}>{user.username}</Link>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext } from \"react\";\nimport { useResource } from \"react-request-hook\";\nimport { Card, Button, Form } from \"react-bootstrap\";\nimport { StateContext } from \"./Contexts\";\n\nexport default function Todo({\n  _id,\n  title,\n  content,\n  author,\n  createdOn,\n  complete,\n  completedOn,\n}) {\n  const { state, dispatch } = useContext(StateContext);\n  const { user } = state;\n  const [todoUpdate, updateTodo] = useResource(\n    ({ _id, complete, completedOn }) => ({\n      url: `/todo/${_id}`,\n      method: \"put\",\n      headers: { Authorization: `${state.user.access_token}` },\n      data: { title, content, author, createdOn, complete, completedOn },\n    })\n  );\n\n  function handleUpdate() {\n    if (user.username !== author) {\n      return;\n    }\n    const completedOn = new Date();\n    updateTodo({\n      _id,\n      title,\n      content,\n      author,\n      complete: !complete,\n      completedOn: complete ? null : completedOn,\n    });\n    dispatch({\n      type: \"TOGGLE_TODO\",\n      _id: _id,\n      complete: !complete,\n      completedOn,\n    });\n  }\n\n  const [todoDelete, deleteTodo] = useResource(({ _id }) => ({\n    url: `/todo/${_id}`,\n    method: \"delete\",\n    headers: { Authorization: `${state.user.access_token}` },\n  }));\n\n  function handleDelete() {\n    if (user.username !== author) {\n      return;\n    }\n\n    deleteTodo({\n      _id: _id,\n    });\n    dispatch({ type: \"DELETE_TODO\", _id: _id });\n  }\n\n  return (\n    <Card>\n      <Card.Body>\n        {user.username && (\n          <Form.Check\n            type=\"checkbox\"\n            inline\n            checked={complete || false}\n            onChange={handleUpdate}\n            label={<Card.Title>{title}</Card.Title>}\n          />\n        )}\n\n        <Card.Subtitle>\n          <i>\n            Written by <b>{author}</b>\n          </i>\n        </Card.Subtitle>\n        <Card.Text>\n          Content: <b>{content}</b>\n        </Card.Text>\n        {createdOn && (\n          <>\n            <i>\n              Created on:{\" \"}\n              {createdOn ? new Date(createdOn).toLocaleDateString(\"en-us\") : \"\"}\n            </i>\n            <br />\n          </>\n        )}\n        {complete && (\n          <>\n            <i>\n              Completed on:{\" \"}\n              {completedOn\n                ? new Date(completedOn).toLocaleDateString(\"en-us\")\n                : \"\"}\n            </i>\n            <br />\n          </>\n        )}\n        {user.username && (\n          <Button variant=\"link\" onClick={handleDelete}>\n            Delete Post\n          </Button>\n        )}\n      </Card.Body>\n    </Card>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { Link } from \"react-navi\";\nimport { StateContext } from \"../Contexts\";\nimport Todo from \"../Todo\";\n\nexport default function UserProfile({ userId }) {\n  const { state } = useContext(StateContext);\n  const { users } = state;\n  const user = users.find((user) => user._id && user._id.toString() === userId);\n  const todos = user\n    ? state.todos.filter((todo) => todo.author === user.username)\n    : [];\n  return (\n    <>\n      <Link href=\"/users\">Go to user list</Link>\n      <div>\n        {todos.map((p, i) => (\n          <Todo {...p} title={p.title} author={p.author} key={\"post-\" + i} />\n        ))}\n      </div>\n    </>\n  );\n}\n","import React, { useContext } from \"react\";\nimport { StateContext } from \"./Contexts\";\nimport Todo from \"./Todo\";\n\nexport default function TodoList() {\n  const { state } = useContext(StateContext);\n  const todos = Array.isArray(state.todos) ? state.todos : [];\n  return (\n    <div>\n      {todos.length > 0 &&\n        todos.map((p, i) => (\n          <>\n            <Todo {...p} key={\"todo-\" + i} />\n            <br />\n          </>\n        ))}\n    </div>\n  );\n}\n","import React, { useState, useContext } from \"react\";\r\nimport { useResource } from \"react-request-hook\";\r\nimport { StateContext } from \"./Contexts\";\r\n\r\nexport default function CreateTodo() {\r\n  const { state, dispatch } = useContext(StateContext);\r\n  const [title, setTitle] = useState(\"\");\r\n  const [content, setContent] = useState(\"\");\r\n\r\n  const [todo, createTodo] = useResource(\r\n    ({ title, content, author, createdOn, complete, completedOn }) => ({\r\n      url: \"/todo\",\r\n      method: \"post\",\r\n      headers: { Authorization: `${state.user.access_token}` },\r\n      data: { title, content, author, createdOn, complete, completedOn },\r\n    })\r\n  );\r\n\r\n  function handleSubmit(e) {\r\n    e.preventDefault();\r\n    if (!title.trim()) {\r\n      alert(\"Title can not be empty!\");\r\n      return;\r\n    }\r\n\r\n    const createdOn = new Date();\r\n    createTodo({\r\n      title,\r\n      content,\r\n      author: state.user.username,\r\n      createdOn,\r\n      complete: false,\r\n      completedOn: null,\r\n    });\r\n    dispatch({\r\n      type: \"CREATE_TODO\",\r\n      title,\r\n      content,\r\n      author: state.user.username,\r\n      createdOn,\r\n      complete: false,\r\n      completedOn: null,\r\n    });\r\n    setTitle(\"\");\r\n    setContent(\"\");\r\n  }\r\n\r\n  function handleChangeTitle(e) {\r\n    setTitle(e.target.value);\r\n  }\r\n\r\n  function handleChangeContent(e) {\r\n    setContent(e.target.value);\r\n  }\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit}>\r\n      <div>\r\n        <label htmlFor=\"create-title\">Title:</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"create-title\"\r\n          id=\"create-title\"\r\n          value={title}\r\n          onChange={handleChangeTitle}\r\n        />\r\n      </div>\r\n      <div>\r\n        <label htmlFor=\"create-content\">Content:</label>\r\n        <input\r\n          type=\"text\"\r\n          name=\"create-content\"\r\n          id=\"create-content\"\r\n          value={content}\r\n          onChange={handleChangeContent}\r\n        />\r\n      </div>\r\n      <input type=\"submit\" value=\"Create\" />\r\n    </form>\r\n  );\r\n}\r\n","import React, { useEffect, useContext } from \"react\";\nimport { useResource } from \"react-request-hook\";\nimport { Link } from \"react-navi\";\nimport TodoList from \"./TodoList\";\nimport CreateTodo from \"./CreateTodo\";\nimport { StateContext } from \"./Contexts\";\n\nexport default function Home() {\n  const [todos, getTodos] = useResource(() => ({\n    url: \"/todo\",\n    method: \"get\",\n    headers: { Authorization: `${state.user.access_token}` },\n  }));\n\n  const [users, getUsers] = useResource(() => ({\n    url: \"/auth\",\n    method: \"get\",\n  }));\n\n  const { state, dispatch } = useContext(StateContext);\n\n  useEffect(getTodos, [state.user.access_token]);\n  useEffect(getUsers, []);\n\n  useEffect(() => {\n    if (todos && todos.data) {\n      console.log(\"todos.data: \", todos.data);\n      dispatch({ type: \"FETCH_TODOS\", todos: todos.data.todos });\n    }\n  }, [todos]);\n\n  useEffect(() => {\n    if (users && users.data) {\n      console.log(\"users.data: \", users.data);\n      dispatch({ type: \"FETCH_USERS\", users: users.data.users });\n    }\n  }, [users]);\n\n  const { user } = state;\n\n  useEffect(() => {\n    if (user.username) {\n      document.title = `${user.username}'s Todo`;\n    } else {\n      document.title = \"Todo\";\n    }\n  }, [user]);\n\n  return (\n    <>\n      <Link href=\"/users\">Go to user list</Link>\n      {user.username && <CreateTodo />}\n      <TodoList />\n    </>\n  );\n}\n","function userReducer(state, action) {\n  switch (action.type) {\n    case \"LOGIN\":\n      return {\n        username: action.username,\n        access_token: action.access_token,\n      };\n    case \"REGISTER\":\n      return {\n        username: action.username,\n        access_token: action.access_token,\n      };\n    case \"LOGOUT\":\n      return {\n        username: undefined,\n        access_token: undefined,\n      };\n    default:\n      return state;\n  }\n}\n\nfunction userListReducer(state, action) {\n  switch (action.type) {\n    case \"FETCH_USERS\":\n      return action.users;\n    default:\n      return state;\n  }\n}\n\nfunction todosReducer(state, action) {\n  const todos = state;\n  switch (action.type) {\n    case \"FETCH_TODOS\":\n      return action.todos;\n    case \"CREATE_TODO\":\n      const curLength = todos.length ? todos.length : 0;\n      const newTodo = {\n        _id: curLength + 1,\n        title: action.title,\n        content: action.content,\n        createdOn: action.createdOn,\n        complete: action.complete,\n        completedOn: action.completedOn,\n      };\n      return [newTodo, ...todos];\n    case \"TOGGLE_TODO\":\n      let updatedTodos = [];\n      todos.forEach((todo) => {\n        if (action._id === todo._id) {\n          updatedTodos.push({\n            ...todo,\n            complete: action.complete,\n            completedOn: action.complete ? new Date() : null,\n          });\n        } else {\n          updatedTodos.push(todo);\n        }\n      });\n      return updatedTodos;\n    case \"DELETE_TODO\":\n      return todos.filter((todo) => todo._id !== action._id);\n    default:\n      return state;\n  }\n}\n\nexport default function appReducer(state, action) {\n  return {\n    user: userReducer(state.user, action),\n    users: userListReducer(state.users, action),\n    todos: todosReducer(state.todos, action),\n  };\n}\n","import React, { useReducer } from \"react\";\nimport { Container } from \"react-bootstrap\";\nimport { mount, route } from \"navi\";\nimport { Router, View } from \"react-navi\";\nimport UserBar from \"./user/UserBar\";\nimport UserList from \"./user/UserList\";\nimport UserProfile from \"./user/UserProfile\";\nimport Home from \"./Home\";\nimport appReducer from \"./reducers\";\nimport { StateContext } from \"./Contexts\";\n\nfunction App() {\n  const [state, dispatch] = useReducer(appReducer, {\n    user: {},\n    users: [],\n    todos: [],\n  });\n\n  const { user } = state;\n\n  const routes = mount({\n    \"/\": route({ view: <Home /> }),\n    \"/users\": route({ view: <UserList /> }),\n    \"/users/:userId\": route((req) => {\n      console.log(\"req: \", req);\n      return { view: <UserProfile userId={req.params.userId} /> };\n    }),\n  });\n\n  return (\n    <div>\n      <StateContext.Provider value={{ state: state, dispatch: dispatch }}>\n        <Router routes={routes}>\n          <Container>\n            <React.Suspense fallback={\"Loading...\"}>\n              <UserBar />\n            </React.Suspense>\n            <hr />\n            <View />\n          </Container>\n        </Router>\n      </StateContext.Provider>\n    </div>\n  );\n}\n\nexport default App;\n","import \"bootstrap/dist/css/bootstrap.min.css\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { RequestProvider } from \"react-request-hook\";\nimport axios from \"axios\";\nimport App from \"./App\";\n\nconst axiosInstance = axios.create({\n  baseURL: \"/\",\n});\n\nReactDOM.render(\n  <React.StrictMode>\n    <RequestProvider value={axiosInstance}>\n      <App />\n    </RequestProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import React from \"react\";\r\n\r\nexport const StateContext = React.createContext({\r\n  state: {},\r\n  dispatch: () => {},\r\n});\r\n"],"sourceRoot":""}